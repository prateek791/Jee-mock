<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JEE Main Mock Test</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f6fb;
}

header {
  background: #6a00ff;
  color: white;
  padding: 10px;
  text-align: center;
  font-weight: bold;
}

.tabs {
  display: flex;
  justify-content: center;
  background: #eee;
}

.tabs button {
  flex: 1;
  padding: 10px;
  border: none;
  font-weight: bold;
}

.main {
  display: flex;
}

.left {
  flex: 3;
  padding: 15px;
}

.right {
  flex: 1;
  padding: 10px;
  background: #fff;
  border-left: 1px solid #ccc;
}

.palette {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 6px;
}

.palette button {
  padding: 6px;
  border: none;
  border-radius: 4px;
}

.notVisited { background: #cfd8dc; }
.notAnswered { background: #ffcdd2; }
.answered { background: #c8e6c9; }
.marked { background: #e1bee7; }

img {
  max-width: 100%;
  margin-bottom: 10px;
}

.option {
  padding: 10px;
  margin: 5px 0;
  background: #e3e6ff;
  border-radius: 5px;
}

.option.selected {
  background: #6a00ff;
  color: white;
}

button.action {
  padding: 10px;
  margin: 5px;
}
</style>
</head>

<body>

<header>JEE MAIN MOCK TEST</header>

<div class="tabs">
  <button onclick="jumpSection(0)">Physics</button>
  <button onclick="jumpSection(25)">Chemistry</button>
  <button onclick="jumpSection(50)">Mathematics</button>
</div>

<div class="main">
<div class="left">

<h3 id="qTitle"></h3>
<img id="qImg">

<div id="mcq">
  <div class="option" onclick="selectOption('A')">A</div>
  <div class="option" onclick="selectOption('B')">B</div>
  <div class="option" onclick="selectOption('C')">C</div>
  <div class="option" onclick="selectOption('D')">D</div>
</div>

<input type="number" id="integer" style="display:none;width:100%;padding:10px;" placeholder="Enter answer">

<br>
<button class="action" onclick="saveNext()">Save & Next</button>
<button class="action" onclick="markReview()">Save & Mark for Review</button>
<button class="action" onclick="clearResponse()">Clear Response</button>

</div>

<div class="right">
<div class="palette" id="palette"></div>
</div>
</div>

<script>
const TOTAL = 75;

const answerKey = Array(75).fill(null); // Fill later if needed

let q = 0;
let answers = Array(TOTAL).fill(null);
let status = Array(TOTAL).fill("notVisited");

function qType(i) {
  let p = (i + 1) % 25; if (p === 0) p = 25;
  return p <= 20 ? "mcq" : "int";
}

function section(i) {
  if (i < 25) return "Physics";
  if (i < 50) return "Chemistry";
  return "Mathematics";
}

function render() {
  document.getElementById("qTitle").innerText =
    section(q) + " | Question " + (q + 1);

  document.getElementById("qImg").src = "q" + (q + 1) + ".jpg";

  document.getElementById("mcq").style.display =
    qType(q) === "mcq" ? "block" : "none";

  document.getElementById("integer").style.display =
    qType(q) === "int" ? "block" : "none";

  document.getElementById("integer").value = answers[q] ?? "";

  document.querySelectorAll(".option").forEach(o => {
    o.classList.toggle("selected", o.innerText === answers[q]);
  });

  updatePalette();
}

function selectOption(o) {
  answers[q] = o;
  status[q] = "answered";
  render();
}

document.getElementById("integer").oninput = e => {
  answers[q] = e.target.value === "" ? null : Number(e.target.value);
  status[q] = answers[q] === null ? "notAnswered" : "answered";
  updatePalette();
};

function saveNext() {
  if (status[q] === "notVisited") status[q] = "notAnswered";
  q = Math.min(q + 1, TOTAL - 1);
  render();
}

function markReview() {
  status[q] = "marked";
  q = Math.min(q + 1, TOTAL - 1);
  render();
}

function clearResponse() {
  answers[q] = null;
  status[q] = "notAnswered";
  render();
}

function jumpSection(i) {
  q = i;
  render();
}

function updatePalette() {
  const p = document.getElementById("palette");
  p.innerHTML = "";
  for (let i = 0; i < TOTAL; i++) {
    let b = document.createElement("button");
    b.innerText = i + 1;
    b.className = status[i];
    b.onclick = () => { q = i; render(); };
    p.appendChild(b);
  }
}

render();
</script>

</body>
</html>
