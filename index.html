<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JEE Mock Test</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #0f1220;
  color: #fff;
  text-align: center;
}
.container { padding: 15px; }
img {
  max-width: 100%;
  border-radius: 6px;
  margin-bottom: 10px;
}
.option {
  padding: 12px;
  margin: 6px 0;
  background: #1c2045;
  border-radius: 6px;
}
.option.selected {
  background: #3b5bff;
}
input[type="number"] {
  width: 100%;
  padding: 12px;
  font-size: 16px;
}
button {
  padding: 12px;
  margin: 5px;
  font-size: 14px;
}
.hidden { display: none; }
</style>
</head>

<body>

<div class="container">

<h3 id="qTitle"></h3>

<img id="qImg" src="">

<!-- MCQ OPTIONS -->
<div id="options">
  <div class="option" onclick="selectOption('A')">A</div>
  <div class="option" onclick="selectOption('B')">B</div>
  <div class="option" onclick="selectOption('C')">C</div>
  <div class="option" onclick="selectOption('D')">D</div>
</div>

<!-- INTEGER INPUT -->
<input type="number" id="intInput" class="hidden" placeholder="Enter answer">

<br>

<button onclick="markReview()">Mark</button>
<button onclick="skip()">Skip</button>
<button onclick="next()">Next</button>

</div>

<script>
/* ========= CONFIG ========= */
const TOTAL = 75;

/* ===== ANSWER KEY ===== */
/* MCQ → "A","B","C","D"
   INTEGER → numbers */
const answerKey = [
  // Physics 1–20 MCQ
  "A","B","C","D","A","B","C","D","A","B",
  "C","D","A","B","C","D","A","B","C","D",
  // Physics 21–25 Integer
  2, 15, 0, 8, 4,

  // Chemistry 26–45 MCQ
  "A","B","C","D","A","B","C","D","A","B",
  "C","D","A","B","C","D","A","B","C","D",
  // Chemistry 46–50 Integer
  6, 1, 12, 0, 9,

  // Maths 51–70 MCQ
  "A","B","C","D","A","B","C","D","A","B",
  "C","D","A","B","C","D","A","B","C","D",
  // Maths 71–75 Integer
  4, 16, 7, 0, 11
];

/* ===== STATE ===== */
let q = 0;
let answers = Array(TOTAL).fill(null);
let marked = new Set();

/* ===== HELPERS ===== */
function sectionName(i) {
  if (i < 25) return "Physics";
  if (i < 50) return "Chemistry";
  return "Mathematics";
}

function questionType(i) {
  let pos = (i + 1) % 25;
  if (pos === 0) pos = 25;
  return pos <= 20 ? "mcq" : "integer";
}

/* ===== RENDER ===== */
function render() {
  document.getElementById("qTitle").innerText =
    `${sectionName(q)} | Question ${q + 1}`;

  document.getElementById("qImg").src = `q${q + 1}.jpg`;

  let type = questionType(q);
  let options = document.getElementById("options");
  let intInput = document.getElementById("intInput");

  if (type === "mcq") {
    options.classList.remove("hidden");
    intInput.classList.add("hidden");

    document.querySelectorAll(".option").forEach(o =>
      o.classList.remove("selected")
    );

    if (answers[q]) {
      document.querySelectorAll(".option").forEach(o => {
        if (o.innerText === answers[q]) o.classList.add("selected");
      });
    }
  } else {
    options.classList.add("hidden");
    intInput.classList.remove("hidden");
    intInput.value = answers[q] ?? "";
  }
}

/* ===== ACTIONS ===== */
function selectOption(opt) {
  answers[q] = opt;
  render();
}

document.getElementById("intInput").addEventListener("input", e => {
  answers[q] = e.target.value === "" ? null : Number(e.target.value);
});

function markReview() {
  marked.add(q);
  next();
}

function skip() {
  answers[q] = null;
  next();
}

function next() {
  if (q < TOTAL - 1) {
    q++;
    render();
  } else {
    finish();
  }
}

/* ===== SCORE ===== */
function finish() {
  let score = 0;

  for (let i = 0; i < TOTAL; i++) {
    let correct = answerKey[i];
    let given = answers[i];
    let type = questionType(i);

    if (given === null) continue;

    if (type === "mcq") {
      if (given === correct) score += 4;
      else score -= 1;
    } else {
      if (given === correct) score += 4;
    }
  }

  alert("Test finished.\nScore: " + score);
}

/* INIT */
render();
</script>

</body>
</html>
